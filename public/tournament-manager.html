<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Manager</title>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" 
          integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" 
          crossorigin="anonymous"></script>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" 
        rel="stylesheet" 
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" 
        crossorigin="anonymous">

  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" rel="stylesheet">

  <!-- AngularJS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.8.3/angular.min.js"></script>

  <!-- Custom CSS -->
  <link rel="stylesheet" href="css/style.css">

  <script>
    var mymodule = angular.module("kuchModule", []);

    mymodule.controller("kuchController", function ($scope, $http) {
      $scope.jsonArray = [];
      $scope.city = "none";
      $scope.sports = "none";

      $scope.doFetchall = function () {
        var activeUser = localStorage.getItem("activeuser");
        // alert(activeUser);

        var url = "/do-fetch-all?txtmail=" + activeUser;

        $http.get(url).then(function (response) {
          $scope.jsonArray = response.data;
        }, function (response) {
          alert(JSON.stringify(response.data));
        });
      };

      $scope.dodelete = function (rid) {
        var url = "/dodelete?rid=" + rid;

        $http.get(url).then(function (response) {
          alert(JSON.stringify(response.data));
          $scope.doFetchall();
        }, function (response) {
          alert(JSON.stringify(response.data));
        });
      };
    });

    function home() {
      location.href = "index.html";
    }
  </script>
</head>

<body ng-app="kuchModule" ng-controller="kuchController" ng-init="doFetchall();">

   <!-- Navbar Start -->
  <nav>
    <div class="logo">Konnector</div>

    <div class="auth-buttons">
      <button class="signup"  data-bs-toggle="modal" data-bs-target="#exampleModal" id="lgbtn" onclick="home()">Home</button>
    </div>
  </nav>
  
    <!-- Navbar End -->

  <div class="container text-center mt-4">
    <h3>Tournament Manager</h3>
  </div>

  <div class="container-fluid mx-auto mt-5 px-3 row gap-3">
    <div class="card col-md-3" ng-repeat="obj in jsonArray">
      <div class="card-body">
        <h5 class="card-title">Email Id : {{obj.emailid}}</h5>
        <h6>Title : {{obj.title}}</h6>
        <h6>Date : {{obj.dot | date:'yyyy-MM-dd'}}</h6>
        <h6>Time : {{obj.tot}}</h6>
        <h6>Address : {{obj.address}}</h6>
        <h6>City : {{obj.city}}</h6>
        <h6>Sports : {{obj.sports}}</h6>
        <h6>Minimum Age : {{obj.minage}}</h6>
        <h6>Maximum Age : {{obj.maxage}}</h6>
        <h6>Registration : {{obj.registration}}</h6>
        <h6>Fee : {{obj.fee}}</h6>
        <h6>Prize Money : {{obj.prizemoney}}</h6>

        <a href="#" class="btn btn-danger mt-3" ng-click="dodelete(obj.rid);">Delete Tournament</a>
      </div>
    </div>
  </div>

<!-- Footer Start -->
<footer style="margin-top: 75px;">
    <div class="footer-container">
      
      <!-- Logo and text -->
      <div class="footer-logo">
        <h2>Konnector</h2>
        <p>Konnector is designed to bring people, ideas, and opportunities together on one powerful platform.
          We make it easier to connect, collaborate, and grow, whether you’re building professional networks,
          exploring new possibilities, or strengthening existing relationships.With Konnector, every connection becomes
          more meaningful and impactful.</p>
      </div>
      
      <!-- Links 1 -->
      <div class="footer-links">
        <ul>
          <li><a href="#">Home</a></li>
          <li><a href="#">About Us</a></li>
          <li><a href="#">Services</a></li>
          <li><a href="#contact">Contact</a></li>
        </ul>
      </div>

      <!-- Links 2 -->
      <div class="footer-links">
        <ul>
          <li><a href="#">Organiser</a></li>
          <li><a href="#">Players</a></li>
          <li><a href="#">Career</a></li>
          <li><a href="#">Certificate</a></li>
          <li><a href="#">Tournaments</a></li>
        </ul>
      </div>

      <!-- Links + Social -->
      <div class="footer-links">
        <ul>
          <li><a href="#">Privacy Policy</a></li>
          <li><a href="#">Terms & Conditions</a></li>
          <li><a href="#">Partners</a></li>
        </ul>
        <div class="footer-social">
          <a href="#"><i class="fab fa-instagram"></i></a>
          <a href="#"><i class="fab fa-twitter"></i></a>
          <a href="#"><i class="fab fa-facebook"></i></a>
          <a href="#"><i class="fab fa-pinterest"></i></a>
          <a href="#"><i class="fab fa-dribbble"></i></a>
        </div>
        <a href="#contact" class="contact-btn">Contact Us</a>
      </div>

    </div>

    <!-- Bottom -->
    <div class="footer-bottom">
      © 2025-2026 All Rights Reserved.
    </div>
  </footer>
  
     <!-- Footer Ends -->
</body>
</html>