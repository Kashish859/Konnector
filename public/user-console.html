<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>User Console</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.8.3/angular.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q"
        crossorigin="anonymous"></script>
        <link rel="stylesheet" href="css/style.css">
    <script>

        var mymodule = angular.module("kuchModule", []);

        mymodule.controller("kuchController", function ($scope, $http) {
            $scope.jsonArray = [];

            $scope.doFetchAll = function () {
                var url = "/do-fetch-all-users";


                $http.get(url).then(allGoodFx, someBadFx);
                function allGoodFx(response) {
                    //resp in JSON array
                    // alert(JSON.stringify(response.data));
                    $scope.jsonArray = response.data;
                }

                function someBadFx(response) {
                    alert(JSON.stringify(response.data));
                }
            }

            $scope.doresume = function (emailid) {
              // alert(emailid);
                var url = "/do-resume-users?emailid="+emailid;


                $http.get(url).then(allGoodFx, someBadFx);
                function allGoodFx(response) {
                    //resp in JSON array
                    alert(JSON.stringify(response.data));
                    $scope.doFetchAll();
                }

                function someBadFx(response) {
                    alert(JSON.stringify(response.data));
                }
            }

            $scope.doblock = function (emailid) {
              // alert(emailid);
                var url = "/do-block-users?emailid="+emailid;


                $http.get(url).then(allGoodFx, someBadFx);
                function allGoodFx(response) {
                    //resp in JSON array
                    alert(JSON.stringify(response.data));
                    $scope.doFetchAll();
                }

                function someBadFx(response) {
                    alert(JSON.stringify(response.data));
                }
            }

        });
    </script>

    <script>
      function home()
      {
        location.href="admin-dashboard.html"
      }
    </script>
</head>

<body ng-app="kuchModule" ng-controller="kuchController" ng-init="doFetchAll();">
    
   <!-- Navbar Start -->
  <nav>
    <div class="logo">Konnector</div>

    <div class="auth-buttons">
      <button class="signup" style="margin-left: 120px;"  data-bs-toggle="modal" data-bs-target="#exampleModal" id="lgbtn" onclick="home()">Home</button>
    </div>
  </nav>
  
    <!-- Navbar End -->

    <center>
        <h3 class="mt-5">All Users</h3>
    </center>


    <div class="container row mx-auto">
        <div class="card col-md-3 mt-3" ng-repeat=" obj in jsonArray">
            <div class="card-body">
                <h6 class="card-title">Email Id : {{obj.emailid}} </h6>
                <h6 class="card-text"> Date of Sign Up : {{obj.dos | date:'yyyy-MM-dd'}} </h6>
                <h6 class="card-text"> Usertype : {{obj.utype}} </h6>
                <h6 class="card-text"> Status :  {{obj.status}} </h6>
                <div>
                    <button class="btn btn-warning" ng-click="doresume(obj.emailid)">Resume</button>
                     <button class="btn btn-dark" ng-click="doblock(obj.emailid)">Block</button>
                </div>
                
            </div>
        </div>
    </div>
    
 <!-- Footer Start -->
<footer style="margin-top: 75px;">
    <div class="footer-container">
      
      <!-- Logo and text -->
      <div class="footer-logo">
        <h2>Konnector</h2>
        <p class="t">Konnector is designed to bring people, ideas, and opportunities together on one powerful platform.
          We make it easier to connect, collaborate, and grow, whether you’re building professional networks,
          exploring new possibilities, or strengthening existing relationships.With Konnector, every connection becomes
          more meaningful and impactful.</p>
      </div>
      
      <!-- Links 1 -->
      <div class="footer-links">
        <ul>
          <li><a href="#">Home</a></li>
          <li><a href="#">About Us</a></li>
          <li><a href="#">Services</a></li>
          <li><a href="#contact">Contact</a></li>
        </ul>
      </div>

      <!-- Links 2 -->
      <div class="footer-links">
        <ul>
          <li><a href="#">Organiser</a></li>
          <li><a href="#">Players</a></li>
          <li><a href="#">Career</a></li>
          <li><a href="#">Certificate</a></li>
          <li><a href="#">Tournaments</a></li>
        </ul>
      </div>

      <!-- Links + Social -->
      <div class="footer-links">
        <ul>
          <li><a href="#">Privacy Policy</a></li>
          <li><a href="#">Terms & Conditions</a></li>
          <li><a href="#">Partners</a></li>
        </ul>
        <div class="footer-social">
          <a href="#"><i class="fab fa-instagram"></i></a>
          <a href="#"><i class="fab fa-twitter"></i></a>
          <a href="#"><i class="fab fa-facebook"></i></a>
          <a href="#"><i class="fab fa-pinterest"></i></a>
          <a href="#"><i class="fab fa-dribbble"></i></a>
        </div>
        <a href="#contact" class="contact-btn">Contact Us</a>
      </div>

    </div>

    <!-- Bottom -->
    <div class="footer-bottom">
      © 2025-2026 All Rights Reserved.
    </div>
  </footer>
     <!-- Footer Ends -->

</body>
</html>